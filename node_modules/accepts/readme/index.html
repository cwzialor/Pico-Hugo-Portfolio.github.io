<!DOCTYPE html>
<html lang="en-GB">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title> | My New Hugo Site</title>

	<link rel="stylesheet" href="css/pico.min.css" type="text/css" media="all" />
	<link rel="stylesheet" href="css/style.css" type="text/css" media="all" />
	<link rel="stylesheet" href="../css/pico.min.css" type="text/css" media="all" />
	<link rel="stylesheet" href="../css/style.css" type="text/css" media="all" />
	<link rel="stylesheet" href="../../css/pico.min.css" type="text/css" media="all" />
	<link rel="stylesheet" href="../../css/style.css" type="text/css" media="all" />

	</head>

<body>
	<nav>
		<ul>
		  <li>
			<a href="http://localhost:1313/">
				<strong>
					My New Hugo Site
				</strong>
			</a>
		</li>
		</ul>
		<ul>
		  <a href="#"> 
			<header class="site-header">
  <nav class="site-nav">
    <ul class="main-menu">
  
        
      <li>
        <a href="/posts"> Posts </a>
      </li>
      
      <li>
        <a href="/about"> About </a>
      </li>
      
      <li>
        <a href="mailto:caspar.zialor@sjtu.edu.cn">Email</a>
      </li>
    </ul>
  </nav>
</header>
 
		  </a>
		</ul>
	  </nav>

<main class="content">

<main>
    <h1></h1>
    <h1 id="accepts">accepts</h1>
<p><a href="https://npmjs.org/package/accepts"><img src="https://badgen.net/npm/v/accepts" alt="NPM Version"></a>
<a href="https://npmjs.org/package/accepts"><img src="https://badgen.net/npm/dm/accepts" alt="NPM Downloads"></a>
<a href="https://nodejs.org/en/download"><img src="https://badgen.net/npm/node/accepts" alt="Node.js Version"></a>
<a href="https://github.com/jshttp/accepts/actions/workflows/ci.yml"><img src="https://badgen.net/github/checks/jshttp/accepts/master?label=ci" alt="Build Status"></a>
<a href="https://coveralls.io/r/jshttp/accepts?branch=master"><img src="https://badgen.net/coveralls/c/github/jshttp/accepts/master" alt="Test Coverage"></a></p>
<p>Higher level content negotiation based on <a href="https://www.npmjs.com/package/negotiator">negotiator</a>.
Extracted from <a href="https://www.npmjs.com/package/koa">koa</a> for general use.</p>
<p>In addition to negotiator, it allows:</p>
<ul>
<li>Allows types as an array or arguments list, ie <code>(['text/html', 'application/json'])</code>
as well as <code>('text/html', 'application/json')</code>.</li>
<li>Allows type shorthands such as <code>json</code>.</li>
<li>Returns <code>false</code> when no types match</li>
<li>Treats non-existent headers as <code>*</code></li>
</ul>
<h2 id="installation">Installation</h2>
<p>This is a <a href="https://nodejs.org/en/">Node.js</a> module available through the
<a href="https://www.npmjs.com/">npm registry</a>. Installation is done using the
<a href="https://docs.npmjs.com/getting-started/installing-npm-packages-locally"><code>npm install</code> command</a>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ npm install accepts
</span></span></code></pre></div><h2 id="api">API</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">accepts</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;accepts&#39;</span>)
</span></span></code></pre></div><h3 id="acceptsreq">accepts(req)</h3>
<p>Create a new <code>Accepts</code> object for the given <code>req</code>.</p>
<h4 id="charsetcharsets">.charset(charsets)</h4>
<p>Return the first accepted charset. If nothing in <code>charsets</code> is accepted,
then <code>false</code> is returned.</p>
<h4 id="charsets">.charsets()</h4>
<p>Return the charsets that the request accepts, in the order of the client&rsquo;s
preference (most preferred first).</p>
<h4 id="encodingencodings">.encoding(encodings)</h4>
<p>Return the first accepted encoding. If nothing in <code>encodings</code> is accepted,
then <code>false</code> is returned.</p>
<h4 id="encodings">.encodings()</h4>
<p>Return the encodings that the request accepts, in the order of the client&rsquo;s
preference (most preferred first).</p>
<h4 id="languagelanguages">.language(languages)</h4>
<p>Return the first accepted language. If nothing in <code>languages</code> is accepted,
then <code>false</code> is returned.</p>
<h4 id="languages">.languages()</h4>
<p>Return the languages that the request accepts, in the order of the client&rsquo;s
preference (most preferred first).</p>
<h4 id="typetypes">.type(types)</h4>
<p>Return the first accepted type (and it is returned as the same text as what
appears in the <code>types</code> array). If nothing in <code>types</code> is accepted, then <code>false</code>
is returned.</p>
<p>The <code>types</code> array can contain full MIME types or file extensions. Any value
that is not a full MIME types is passed to <code>require('mime-types').lookup</code>.</p>
<h4 id="types">.types()</h4>
<p>Return the types that the request accepts, in the order of the client&rsquo;s
preference (most preferred first).</p>
<h2 id="examples">Examples</h2>
<h3 id="simple-type-negotiation">Simple type negotiation</h3>
<p>This simple example shows how to use <code>accepts</code> to return a different typed
respond body based on what the client wants to accept. The server lists it&rsquo;s
preferences in order and will get back the best match between the client and
server.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">accepts</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;accepts&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">http</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;http&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">app</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">accept</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">accepts</span>(<span style="color:#a6e22e">req</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// the order of this list is significant; should be server preferred order
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">switch</span> (<span style="color:#a6e22e">accept</span>.<span style="color:#a6e22e">type</span>([<span style="color:#e6db74">&#39;json&#39;</span>, <span style="color:#e6db74">&#39;html&#39;</span>])) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;json&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">setHeader</span>(<span style="color:#e6db74">&#39;Content-Type&#39;</span>, <span style="color:#e6db74">&#39;application/json&#39;</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#39;{&#34;hello&#34;:&#34;world!&#34;}&#39;</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;html&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">setHeader</span>(<span style="color:#e6db74">&#39;Content-Type&#39;</span>, <span style="color:#e6db74">&#39;text/html&#39;</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#39;&lt;b&gt;hello, world!&lt;/b&gt;&#39;</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// the fallback is text/plain, so no need to specify it above
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">setHeader</span>(<span style="color:#e6db74">&#39;Content-Type&#39;</span>, <span style="color:#e6db74">&#39;text/plain&#39;</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#39;hello, world!&#39;</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">end</span>()
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">createServer</span>(<span style="color:#a6e22e">app</span>).<span style="color:#a6e22e">listen</span>(<span style="color:#ae81ff">3000</span>)
</span></span></code></pre></div><p>You can test this out with the cURL program:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>curl -I -H<span style="color:#e6db74">&#39;Accept: text/html&#39;</span> http://localhost:3000/
</span></span></code></pre></div><h2 id="license">License</h2>
<p><a href="LICENSE">MIT</a></p>

</main>

</main>
	
<footer>
	<p>&copy;2024 My New Hugo Site</p>
</footer>

</body>
</html>

